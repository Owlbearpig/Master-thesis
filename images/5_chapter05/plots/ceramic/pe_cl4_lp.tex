\documentclass{standalone}
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\usepackage{siunitx}
\pgfplotsset{compat=1.5}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows.meta}
\usepackage{pgfplotstable}

\begin{document}
\pgfplotsset{
    table/search path={plot_data/5_chapter05/ceramic/pe},
}

\pgfplotstableread[col sep=comma]{x_ml4_pe.csv}\mydataMassonLP
\pgfplotstableread[col sep=comma]{x_cl4_02_15_n6_pe.csv}\mydataResOneLP

\def\graphArrow#1#2#3{
    \pgfmathsetmacro{\xcolind}{int(#1)}
    \pgfmathsetmacro{\ycolind}{int(#1+1)}
    
    \pgfplotstablegetelem{0}{[index]\xcolind}\of#3
    \pgfmathsetmacro{\xs}{\pgfplotsretval}
    \pgfplotstablegetelem{0}{[index]\ycolind}\of#3
    \pgfmathsetmacro{\ys}{\pgfplotsretval}

    \pgfplotstablegetelem{4}{[index]\xcolind}\of#3
    \pgfmathsetmacro{\xe}{\pgfplotsretval}
    \pgfplotstablegetelem{4}{[index]\ycolind}\of#3
    \pgfmathsetmacro{\ye}{\pgfplotsretval}
    
    \addplot[-{Latex[length=10, width=5]}, #2] coordinates {(\xs,\ys) (\xe,\ye)};
}


\begin{tikzpicture}
	\begin{axis}[
	    %ymode=log,
	    %xmode=log,
        ymin=-1.1, ymax=1.1,
        xmin=-1.1, xmax=1.1,
        %no markers,
        every axis plot/.append style={},
        axis line style = very thick,
        every tick/.style={black, very thick},
        xlabel=$E_x$ (\si{\volt/\meter}),
        ylabel=$E_y$ (\si{\volt/\meter}),
        %anchor=origin,
        %legend entries={{\SI{0.30}{\tera \hertz}}, {\SI{0.60}{\tera \hertz}}, {\SI{1.20}{\tera \hertz}}, {\SI{1.50}{\tera \hertz}}, {\SI{1.65}{\tera \hertz}}, {\SI{1.75}{\tera \hertz}}, {\SI{1.85}{\tera \hertz}}},
        legend style={legend columns=1, at={(1,1)}, anchor=north west,
                      nodes={scale=0.90, transform shape}},
        ]
        \addplot[thick, red] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, orange] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, yellow] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, black] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, blue] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, cyan] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, green] coordinates {(-2,-2) (-2,-2)};
        
        \addplot [gray, no markers, ] coordinates {(-1,-1) (1,-1)};
        \addplot [gray, no markers, ] coordinates {(-1,-1) (-1,1)};
        \addplot [gray, no markers, ] coordinates {(-1,1) (1,1)};
        \addplot [gray, no markers, ] coordinates {(1,1) (1,-1)};
        \addplot [gray, no markers, ] coordinates {(-1,0) (1,0)};
        \addplot [gray, no markers, ] coordinates {(0,-1) (0,1)};
        
        \addplot[thick, red] table [x index = 1, y index = 2, col sep=comma]\mydataMassonLP;
        \addplot[thick, orange] table [x index = 61, y index = 62, col sep=comma]\mydataMassonLP;
        \addplot[thick, yellow] table [x index = 181, y index = 182, col sep=comma]\mydataMassonLP;
        \addplot[thick, black] table [x index = 241, y index = 242, col sep=comma]\mydataMassonLP;
        \addplot[thick, blue] table [x index = 271, y index = 272, col sep=comma]\mydataMassonLP;
        \addplot[thick, cyan] table [x index = 291, y index = 292, col sep=comma]\mydataMassonLP;
        \addplot[thick, green,] table [x index = 311, y index = 312, col sep=comma]\mydataMassonLP;
        
        \graphArrow{1}{red}{\mydataMassonLP}
        \graphArrow{61}{orange}{\mydataMassonLP}
        \graphArrow{181}{yellow}{\mydataMassonLP}
        \graphArrow{241}{black}{\mydataMassonLP}
        \graphArrow{271}{blue}{\mydataMassonLP}
        \graphArrow{291}{cyan}{\mydataMassonLP}
        \graphArrow{311}{green}{\mydataMassonLP}
        %\addplot[-{Latex[length=10, width=5]}, green] coordinates {(0.256,0.0) (0.10,0.15)};
        %\addplot[-{Latex[length=10, width=5]}, cyan] coordinates {(0.825,0.0) (0.73,0.15)};
        %\addplot[-{Latex[length=10, width=5]}, red] coordinates {(0.96,0) (0.96,0.1)};
        %\addplot[-{Latex[length=10, width=5]}, blue] coordinates {(0.75,0.595) (0.7,0.66)};
        %\addplot[-{Latex[length=10, width=5]}, orange] coordinates {(0.5,0.85) (0.45,0.875)};
        %\addplot[-{Latex[length=10, width=5]}, yellow] coordinates {(0.95,0.33) (0.85,0.53)};
        %\addplot[-{Latex[length=10, width=5]}, black] coordinates {(0.97,0.23) (0.94,0.33)};
	\end{axis}
    
\end{tikzpicture}
\begin{tikzpicture}
	\begin{axis}[
	    %ymode=log,
	    %xmode=log,
        ymin=-1.1, ymax=1.1,
        xmin=-1.1, xmax=1.1,
        %no markers,
        every axis plot/.append style={},
        axis line style = very thick,
        every tick/.style={black, very thick},
        xlabel=$E_x$ (\si{\volt/\meter}),
        ylabel=$E_y$ (\si{\volt/\meter}),
        %anchor=origin,
        legend entries={{\SI{0.30}{\tera \hertz}}, {\SI{0.60}{\tera \hertz}}, {\SI{1.20}{\tera \hertz}}, {\SI{1.50}{\tera \hertz}}, {\SI{1.65}{\tera \hertz}}, {\SI{1.75}{\tera \hertz}}, {\SI{1.85}{\tera \hertz}}},
        legend style={legend columns=1, at={(1,1)}, anchor=north west,
                      nodes={scale=0.90, transform shape}},
        ]
        % legend hack ...
        \addplot[thick, red] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, orange] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, yellow] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, black] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, blue] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, cyan] coordinates {(-2,-2) (-2,-2)};
        \addplot[thick, green] coordinates {(-2,-2) (-2,-2)};
        
        \addplot [gray, no markers, ] coordinates {(-1,-1) (1,-1)};
        \addplot [gray, no markers, ] coordinates {(-1,-1) (-1,1)};
        \addplot [gray, no markers, ] coordinates {(-1,1) (1,1)};
        \addplot [gray, no markers, ] coordinates {(1,1) (1,-1)};
        \addplot [gray, no markers, ] coordinates {(-1,0) (1,0)};
        \addplot [gray, no markers, ] coordinates {(0,-1) (0,1)};
        
        \addplot[thick, red] table [x index = 1, y index = 2, col sep=comma]\mydataResOneLP;
        \addplot[thick, orange] table [x index = 61, y index = 62, col sep=comma]\mydataResOneLP;
        \addplot[thick, yellow] table [x index = 181, y index = 182, col sep=comma]\mydataResOneLP;
        \addplot[thick, black] table [x index = 241, y index = 242, col sep=comma]\mydataResOneLP;
        \addplot[thick, blue] table [x index = 271, y index = 272, col sep=comma]\mydataResOneLP;
        \addplot[thick, cyan] table [x index = 291, y index = 292, col sep=comma]\mydataResOneLP;
        \addplot[thick, green] table [x index = 311, y index = 312, col sep=comma]\mydataResOneLP;
        
        \graphArrow{1}{red}{\mydataResOneLP}
        \graphArrow{61}{orange}{\mydataResOneLP}
        \graphArrow{181}{yellow}{\mydataResOneLP}
        \graphArrow{241}{black}{\mydataResOneLP}
        \graphArrow{271}{blue}{\mydataResOneLP}
        \graphArrow{291}{cyan}{\mydataResOneLP}
        \graphArrow{311}{green}{\mydataResOneLP}
        
        %\addplot[-{Latex[length=10, width=5]}, red] coordinates {(0.64,0.735) (0.60,0.77)};
        %\addplot[-{Latex[length=10, width=5]}, orange] coordinates {(0.85,0.53) (0.8,0.6)};
        %\addplot[-{Latex[length=10, width=5]}, yellow] coordinates {(0.6,0.8) (0.5,0.87)};
        %\addplot[-{Latex[length=10, width=5]}, black] coordinates {(1,0) (0.985,0.2)};
        %\addplot[-{Latex[length=10, width=5]}, blue] coordinates {(0.63,0) (0.634,0.2)};
        %\addplot[-{Latex[length=10, width=5]}, cyan] coordinates {(0.163,0) (0.163,0.2)};
        %\addplot[-{Latex[length=10, width=5]}, green] coordinates {(0.28,0) (0.28,0.2)};
	\end{axis}
    
\end{tikzpicture}


\end{document}
